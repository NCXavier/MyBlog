{% extends "base.html" %}
{% load staticfiles %}

<!-- 写入base.html中字义的title-->
{% block title%}
文章标题
{% endblock title%}

<!--写入base.html中定义的content -->
{% block content %}
<!-- 文章详情 -->
<div class="container">
  <div class="row">
    <!-- 标题及作者-->
    <h1 class="col-12 mt-4 mb-4">{{ article.title }}</h1>
    .<a href="{% url "article:article_delete" article.id %}">删除文章</a>
    <div class="col-12 alert alert-success">作者：{{ article.author }}</div>
    <!-- 文章正文 -->
    <div class="col-12">
      <!--"|"表示不需要进行转义-->
      <p>{{ article.body| safe}}</p>
    </div>
  </div>
</div>
<script>
  //删除文章的函数
  function confirm_delete(){
    // 调用layser弹窗组件
    layer.open({
      // 弹窗标题
      title: "确认删除",
      // 正文
      content: "确认删除这篇文章吗？"
      // 点击确定按钮后调用的回调函数
      yes: function(index, layero){
        // 指定应当前往的url
        location.href="{% url "article:article_delete" article.id%}"
      },
    })
  }
</script>
{% endblock content %}
